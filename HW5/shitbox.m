syms p2 p3 p4 v12 v23 v24 v34 v35 v46

f1 = 300 - p2 - 50000*v12^2;
f2 = p2 - p3 - 50000*v23^2;
f3 = p2 - p4 - 50000*v24^2;
f4 = p3 - p4 - 25000*v34^2;
f5 = p3 - 100 - 50000*v35^2;
f6 = p4 - 100 - 50000*v46^2;
f7 = .2^2*v12 - .1^2*v23 -.1^2*v24;
f8 = .1^2*v23 - .2^2*v34 - .1^2*v35;
f9 = .1^2*v24 + .2^2*v34 - .1^2*v46;

f = matlabFunction([f1, f2, f3, f4, f5, f6, f7, f8, f9]);
%f = @Prob3Function;

Df = jacobian([f1 f2 f3 f4 f5 f6 f7 f8 f9],...
    [p2 p3 p4 v12 v23 v24 v34 v35 v46]);

%Df = @(p2,p3,p4,v12,v23,v24,v34,v35,v46)reshape([-1.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,-1.0,0.0,1.0,0.0,0.0,0.0,v12.*-1.0e+5,0.0,0.0,0.0,0.0,0.0,1.0./2.5e+1,0.0,0.0,0.0,v23.*-1.0e+5,0.0,0.0,0.0,0.0,-1.0./1.0e+2,1.0./1.0e+2,0.0,0.0,0.0,v24.*-1.0e+5,0.0,0.0,0.0,-1.0./1.0e+2,0.0,1.0./1.0e+2,0.0,0.0,0.0,v34.*-5.0e+4,0.0,0.0,0.0,-1.0./2.5e+1,1.0./2.5e+1,0.0,0.0,0.0,0.0,v35.*-1.0e+5,0.0,0.0,-1.0./1.0e+2,0.0,0.0,0.0,0.0,0.0,0.0,v46.*-1.0e+5,0.0,0.0,-1.0./1.0e+2],[9,9])

%cheese = matlabFunction(f/Df)

x = [200,200,200,.1,.1,.1,.1,.1,.1];
for i = 1:10
    shit = f(x(1), x(2), x(3), x(4), x(5), x(6), x(7) ,x(8) , x(9));
    poop = (Df(x(1), x(2), x(3), x(4), x(5), x(6), x(7) ,x(8) , x(9)))^-1
    Dx = shit*poop
    x = x - Dx
end