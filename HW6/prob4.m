fun = @(x)(55*x(1) + 90*x(2) + 105*x(3))*(x(1)+x(2)+x(3) <.5) + ...
    (65*x(1) + 100*x(2) + 115*x(3))*(x(1)+x(2)+x(3) >=.5) + ...
    + 55*x(4) + 85*x(5) + 120*x(6);
x0 = [0,0,0,0,0,0];
A = [1, 1, 1, 0, 0, 0;...
    0, 0, 0, 1, 1, 1;...
    -1, 0, 0, -1, 0, 0;...
    0, -1, 0, 0, -1, 0;...
    0, 0, -1, 0, 0, -1];
b = [1.6; .8; -.9; -.7; -.3];
Aeq = [];
beq = [];
lb = [0,0,0,0,0,0];
[x,fval] = fmincon(fun,x0,A,b,Aeq,beq,lb)


